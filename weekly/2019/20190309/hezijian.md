# 20190309

已经是开学第二周了， 这周写了一点 Judger 的代码， 好不容易将之前写的沙箱 Sandbox 与其整合了起来，作为一个动态链接库来使用。遇到了一个 C++ 编译坑，就是 C++ 编译过程中会给函数改名称，C语言直接调用会找不到，Go语言中只能调用C语言。 得用
```C++
#ifdef __cplusplus
    extern "C" {
#endif
   // funciton
#ifdef __cplusplus
}
#endif
```
将 自己想暴露的接口包围起来。编译出来的文件才能在被C语言调用。

之后在研究 网络通讯的时候 由于 任务调度 也是使用Go语言，在网络这方面遇到了 TCP粘包的问题，不知道如何设计一个比较合适的协议，就卡住了，最后决定不直接使用 tcp，而是使用 http 和 websocket 来做通讯。开发环境也由 go 改为 php + swoole。

数据库方面，遇到了大字段，师哥说他们是 超过 2k 的直接写成小文件，看了看 阿里的开发手册，则是独立成 一个表，用统一键调用，那数据库还得再改改。


填(wa)坑中，共勉~~
